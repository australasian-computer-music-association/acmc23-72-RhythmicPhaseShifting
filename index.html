<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="dcterms.date" content="2023-07-13" />
  <title>Computation and Musical Applications of Discrete and Continuous Rhythmic Phase-shifting Techniques</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="templates/pandoc.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<article>
<header id="title-block-header">
<h1 class="title">Computation and Musical Applications of Discrete and
Continuous Rhythmic Phase-shifting Techniques</h1>
<p class="author">Yoonjae Choi
 (Hanyang University)
 (<a href="https://orcid.org/https://orcid.org/0000-0000-0000-0000">ORCID</a>)
</p>
<p class="date">Submitted: 2023-07-13</p>
<p class="date">Published: 2023-10-09</p>
</header>
<p class="abstract"><em>Abstract:</em> This paper describes how to
implement rhythm phase shifting in a computational way in order to shift
the phase of a rhythm in a controlled but expanded way. It is mainly
divided into two methods, discrete phase-shifting which can be
implemented through the shifting of the sample delay, and continuous
phase-shifting through the adjustment of the playback speed. The latter
is again divided into two techniques depending on whether the playback
speed is fixed or variable. It also deals with the mixing of these
various techniques. For each technique, we discuss the process and the
related mathematical formula that must be computed to align the
phase-interval in rhythmic units of the current BPM.</p>
<h1 data-number="1" id="introduction"><span
class="header-section-number">1</span> Introduction</h1>
<p>Since classical music has embraced the techniques of counterpoint and
harmony, the rhythmic phase-shifting technique of specific phrases or
motives has been considered a significant method of composition [1].
There are various works of music in which we can find out examples of
this technique. Nevertheless, in the musical context, the classic
stretto technique has limitations in regard to its presence in that it
cannot function as an entire part of the specific musical section. The
usage of this technique was still restricted as a minor part of the
counterpoint technique. However, some modern composers started to expand
these methods not as a subcategory of counterpoint music but as a
musical mixture itself. It can be found in the works of several
minimalist composer’s works such as Steve Reich and John Adams.</p>
<figure>
<img src="media/john-adams1.png"
alt="John Adams - Shaker Loops for String Orchestral [2]" />
<figcaption aria-hidden="true">John Adams - Shaker Loops for String
Orchestral [2]</figcaption>
</figure>
<p>In the case of using these musical phase-shifting techniques
mentioned above, composers mainly used phase-shifting in a non-linear
manner within traditional rhythm notation. In other words, the phasing
intervals are bound to double, triple, quarter, eighth note, or smaller
beat units. However, there are a few cases using linear
phase-shifting.</p>
<figure>
<img src="media/figure1-reich.png" alt="Steve Reich - Drumming [3]" />
<figcaption aria-hidden="true">Steve Reich - Drumming [3]</figcaption>
</figure>
<p>Through the highly rigorous practice of instrument players, the
linear phase-shifting technique has been accomplished to some degree,
but it still has a limit within the ability of humans’ rhythmic
perception and playing technique [4]. In that context, I thought that
the potential of this musical technique is much richer when implemented
in computer music than in acoustic music. Then, what processes should be
used to apply this phasing technique to computer music?</p>
<p>Basically, if the repetition technique of minimalist voice parts is
implemented through the looping of play samples, methods that can create
a rhythmic phase between voice parts can be implemented such as sample
delay and playback speed. Step-changed phase shifting can be implemented
through sample delay, and continuous phase shifting can be implemented
through playback speed. The purpose of this research is to find the
computational method for implementing linear and non-linear
phase-shifting and musical applications of these by using digital tools
and computers.</p>
<h1 data-number="2" id="discrete-rhythmic-phase-shifting"><span
class="header-section-number">2</span> Discrete Rhythmic
phase-shifting</h1>
<figure>
<img src="media/figure-discreted-phase-shifting.png"
alt="Discrete rhythmic phase-shifting by one beat (Tms)" />
<figcaption aria-hidden="true">Discrete rhythmic phase-shifting by one
beat (<span class="math inline"><em>T</em></span>ms)</figcaption>
</figure>
<p>Discrete phase-shifting can be implemented by making the time
interval delay by the corresponding length of the unit note. This is
shown in Figure 3. Half, triple, quarter and eighth notes are the major
units for the delay. Suppose we have two audio samples with the same
unit BPM <span class="math inline"><em>b</em></span>, the equation for
the rhythmic phase delay <span class="math inline"><em>T</em></span>ms
of <span class="math inline"><em>i</em></span>th notes length is as
follows:</p>
<p><span
class="math display"><em>T</em> = 240000/(<em>b</em>*<em>i</em>)</span></p>
<p>In this case, the musical effect is identical to the example shown in
Figure 1. For example, the length of a note corresponding to a single
quarter note at a speed of 120BPM is calculated as 500ms by the above
formula. Of course, discrete shifting is possible at any point in time,
but considering the musical effect, it is more desirable that the
shifting point follows the unit of measure. Assuming <span
class="math inline"><em>n</em>1/<em>n</em>2</span> beats of music, the
formula for the interval <span class="math inline"><em>T</em></span>ms
corresponding to one measure is as follows:</p>
<p><span
class="math display"><em>T</em> = <em>n</em>1 * 240000/(<em>b</em>*<em>n</em>2)</span></p>
<p>Furthermore, using this technique makes it possible to make the
phase-shifting with a non-unit interval delay that can be hardly
possible by conventional methods such as music written by a score or
real-instrument performance. In this case, however, the amount of delay
time relative to the corresponding BPM can change the musical
phenomenon. It can be perceived as an identical rhythmic sound (but
delayed) or separated rhythmic notes. There is a critical band of delay
time that people can perceive each of the two motives as an individual
rhythmic unit. Fundamentally, it is the same principle as the critical
band of pitch frequency. This paper will not cover this critical band in
detail.</p>
<h1 data-number="3" id="continuous-rhythmic-phase-shifting"><span
class="header-section-number">3</span> Continuous Rhythmic
phase-shifting</h1>
<p>Continuous phase-shifting can be implemented by the playback speed of
each motive or time stretch. In case of this, the time interval of delay
can be gradually increased or decreased making a more detailed rhythmic
change. This can be found in some acoustical pieces such as Steve
Reich’s Drumming shown in Figure 2. even though its usage is extremely
limited. Generally, this technique requires an amount of practice for
players and is even impossible when it goes to the extreme. In order to
apply linear phase-shifting in computer music, it is essential to
calculate the amount of delay and find out the synchronized point of the
delayed sound motive and original sound motive. Otherwise, the phased
motives will be placed beyond the composer’s control. There are various
ways to implement continuous phase-shifting using time-stretching but
this study will focus on a few cases.</p>
<h2 data-number="3.1"
id="continuous-rhythmic-phase-shifting-with-a-fixed-playback-speed"><span
class="header-section-number">3.1</span> Continuous rhythmic
phase-shifting with a fixed playback speed</h2>
<figure>
<img src="media/figure-fixed-playback-speed.png" style="width:50.0%"
alt="Continuous rhythmic phase-shifting (fixed playback speed)" />
<figcaption aria-hidden="true">Continuous rhythmic phase-shifting (fixed
playback speed)</figcaption>
</figure>
<figure>
<img src="media/graph-fixed-playback-speed.png" style="width:50.0%"
alt="Continuous rhythmic phase-shifting (fixed playback speed)." />
<figcaption aria-hidden="true">Continuous rhythmic phase-shifting (fixed
playback speed).</figcaption>
</figure>
<p>The first is a case in which the two looped sounds have different
playback speeds that are fixed. In this case, the rhythmic phase of the
two motives with different playback speeds is linearly stretched. As a
result, the phenomenon in which unsynchronized rhythms are scattered and
then synchronized by the length of the unit notes is periodically
repeated. The formula for calculating the period in which the phase
shifting phase is scattered and synchronized when there is a difference
in the playback speed is as follows. Assuming that two sound sources
with unit BPM <span class="math inline"><em>b</em></span> have playback
speed differences <span class="math inline"><em>Δ</em><em>P</em></span>,
the period <span class="math inline"><em>T</em></span>ms at which the
delay equals the <span class="math inline"><em>i</em></span>th note is
as follows:</p>
<p><span
class="math display"><em>T</em> = 240000/(<em>b</em>*<em>i</em>*<em>Δ</em><em>P</em>)</span></p>
<p>In this case, a continuous rhythmic delay is accumulated due to the
difference in the playback speed of the two motives, and a delay equal
to n quarter notes of the unit BPM is accumulated for every multiple of
the period <span class="math inline"><em>T</em></span>. This period has
an important meaning when designing music with rhythmic phase-shifting
techniques. As in discrete rhythmic phase shifting, it is desirable that
the duration of rhythmic phase-shifting progression coincides with the
unit of measure. The formula for calculating the playback difference
<span class="math inline"><em>Δ</em><em>P</em></span> between <span
class="math inline"><em>P</em>1</span> and <span
class="math inline"><em>P</em>2</span> required to make a rhythmic phase
which has the length of <span class="math inline"><em>i</em></span>th
notes while the music is progressing for <span
class="math inline"><em>n</em></span> measures in <span
class="math inline"><em>n</em>1/<em>n</em>2</span> time music with a
speed of BPM <span class="math inline"><em>b</em></span> is:</p>
<p><span
class="math display">240000/(<em>b</em>*<em>i</em>) = <em>n</em> * (<em>n</em>1*240000/(<em>b</em>*<em>n</em>2)) * <em>Δ</em><em>P</em></span></p>
<p>encapsulated as:</p>
<p><span
class="math display"><em>n</em>2/(<em>n</em>1*<em>i</em>*<em>n</em>) = <em>Δ</em><em>P</em></span></p>
<h2 data-number="3.2"
id="continuous-rhythmic-phase-shifting-with-a-changing-playback-speed"><span
class="header-section-number">3.2</span> Continuous rhythmic
phase-shifting with a changing playback speed</h2>
<figure>
<img src="media/figure-changed-playback-speed.png" style="width:50.0%"
alt="Continuous rhythmic phase-shifting (unfixed playback speed)" />
<figcaption aria-hidden="true">Continuous rhythmic phase-shifting
(unfixed playback speed)</figcaption>
</figure>
<figure>
<img src="media/graph-log-and-exp-speed.png" style="width:50.0%"
alt="Continuous rhythmic phase-shifting (unfixed playback speed)" />
<figcaption aria-hidden="true">Continuous rhythmic phase-shifting
(unfixed playback speed)</figcaption>
</figure>
<p>The second is the case of shifting in which phase-shifting is
performed with a delay time as much as a unit rhythm at the point where
the playback speed changes continuously and then returns to the original
speed. Also, it is desirable that the total duration of the process in
which the playback speed changes and then returns to the original value
coincides with the duration in units of measure. In this case, the value
obtained by integrating the time difference <span
class="math inline"><em>Δ</em><em>P</em></span> between the two playback
speeds from the period <span class="math inline"><em>t</em>0</span> to
<span class="math inline"><em>t</em>1</span> where phase shifting is in
progress must be designed to match the delay time of the corresponding
BPM unit rhythm when the playback speed returns to the origin.</p>
<p><span
class="math display">240000/(<em>b</em>*<em>i</em>) = ∫<sub><em>t</em>0</sub><sup><em>t</em>1</sup><em>Δ</em><em>P</em>.<em>d</em><em>t</em></span></p>
<p>Of course, it is possible to make a model in which the playback speed
of two or more motives changes simultaneously, but in this paper, the
playback speed of the original motive sound file is fixed to <span
class="math inline"><em>x</em>1</span> and the playback speed of another
motive changes linearly. In addition, we deal with specific models only
in which the left and right sides are symmetrical based on the point
with the maximum amount of playback change.</p>
<p>A functional model that can continuously change playback speed can
take many forms. In this paper, the form of an <span
class="math inline"><em>f</em>(<em>x</em>)</span> function (linear,
exponential, log, or a sine function) that passes through <span
class="math inline"><em>x</em>, <em>y</em></span> <span
class="math inline">(0,0)</span>, is modulated as <span
class="math inline"><em>b</em><em>f</em>(<em>x</em>)</span> or <span
class="math inline"><em>f</em>(<em>a</em><em>x</em>)</span> with
parameters <span class="math inline"><em>a</em></span> and <span
class="math inline"><em>b</em></span> so that the shape of each function
can be adjusted to fit the required artistic demands of the project
where it is being used. For instance, the formula for calculating the
playback speed that makes a rhythmic phase shift equal to the unit
rhythm is as follows.</p>
<p>From the starting point <span class="math inline"><em>t</em>0</span>,
with the initial playback speed <span
class="math inline"><em>P</em>1</span> (as same as <span
class="math inline"><em>V</em><sub><em>m</em></sub>(<em>t</em>0)</span>,
in this case, it should be 0), the playback speed passes through the
point <span class="math inline"><em>t</em>1</span> with the maximum
amount of change <span
class="math inline"><em>V</em><sub><em>m</em></sub>(<em>t</em>1)</span>
and returns to the initial playback speed <span
class="math inline"><em>P</em>2</span>, the same as <span
class="math inline"><em>V</em><sub><em>m</em></sub>(<em>t</em>2)</span>,
(<span
class="math inline"><em>t</em>1 − <em>t</em>0 = <em>t</em>2 − <em>t</em>1</span>)
At this time, the modulated formula <span
class="math inline"><em>V</em><sub><em>m</em></sub>(<em>x</em>)</span>
that the two sound samples from <span
class="math inline"><em>t</em>0</span> to <span
class="math inline"><em>t</em>2</span> have rhythmic phase shifting as
much as <span class="math inline"><em>i</em></span>th note of the
corresponding BPM <span class="math inline"><em>b</em></span> is as
follows:</p>
<p><span
class="math display"><em>V</em><sub><em>m</em></sub> = <em>a</em><em>x</em>/<em>b</em></span>
<span
class="math display"><em>V</em><sub><em>m</em></sub> = <em>b</em>(<em>e</em><sup><em>a</em><em>x</em></sup>−1)</span>
<span
class="math display"><em>V</em><sub><em>m</em></sub> = <em>b</em>ln (<em>a</em>(<em>x</em>+1/<em>a</em>))</span>
<span
class="math display"><em>V</em><sub><em>m</em></sub> = <em>b</em>sin ((<em>π</em><em>x</em>)/(2<em>Δ</em><em>P</em>))<sup><em>a</em></sup></span></p>
<p>Note that variables <span class="math inline"><em>a</em></span> and
<span class="math inline"><em>b</em></span> can control playback speed
(but one of the two must be fixed as a constant).</p>
<p>As an example of such a model, I used the natural log function for
the test. At a speed of 120BPM with <span
class="math inline">4/4</span>, the variable <span
class="math inline"><em>a</em></span> is fixed to 1 and continuous
playback speed modulation is performed for a total of 8 measures (4
measures of increase, and 4 measures of decrease curve). In order to
obtain a rhythmic phase delay equal to the quarter note of the music,
the value of parameter <span class="math inline"><em>b</em></span> is
calculated to be approximately 0.0212314, and the maximum playback speed
of modulated motive sample is calculated to be approximately 1.0466051.
The formula used to create a symmetric structure based on the
progression of 4 measures is as follows. This model can be programmed By
using Max. The “line” object is mainly for the linear model, and the
“groove” object is for time-stretching and adjusting the playback
speed.</p>
<p><span class="math display"><em>y</em> = 0.0212314ln (<em>x</em>+1)
from 0-8s </span> <span
class="math display"><em>y</em> = 0.0212314ln (17−<em>x</em>) from 8-16s
</span></p>
<p>The figure below shows an example patch’s structure based on the
parameter value and formula derived above with the buffer and groove
object of Max. In general, when manipulating the playback speed, the
pitch of the sample audio changes as well. Therefore, in order to obtain
a pure rhythmic phase-shifting effect without changing the pitch of the
samples, time-stretch mode should be applied to the file where the
playback speed is changed, but the phenomenon that the pitch changes as
the playback speed changes can also be used as part of the musical
intention. The adaptation of a technique between those two is up to the
context and intent of the composer.</p>
<figure>
<img src="media/example-max-patch-main.png"
alt="Max patch for rhythmic phase-shifting." />
<figcaption aria-hidden="true">Max patch for rhythmic
phase-shifting.</figcaption>
</figure>
<h2 data-number="3.3"
id="mixed-usage-of-the-changed-playback-speed-and-fixed-playback-speed-for-rhythmic-phase-shifting"><span
class="header-section-number">3.3</span> Mixed usage of the changed
playback speed and fixed playback speed for rhythmic phase-shifting</h2>
<figure>
<img src="media/graph-mixed-playback-speed.png" style="width:50.0%"
alt="Continuous rhythmic phase shifting (mixed use of fixed and variable playback speed)" />
<figcaption aria-hidden="true">Continuous rhythmic phase shifting (mixed
use of fixed and variable playback speed)</figcaption>
</figure>
<p>Finally, the two rhythmic phase shifting methods discussed in 3-1 and
3-2 above can be used in combination. In this case, the playback speed
of one of the two identical motives may change continuously, maintain
the peak value for a certain amount of time, and then return to the
original value continuously. In addition, it is possible to create more
complex musical effects by using different shifting models for two or
more motives This could be the musical goal of this technique.</p>
<h1 data-number="4" id="conclusion"><span
class="header-section-number">4</span> Conclusion</h1>
<p>Through several methods shown above, we looked at both the
calculation and examples to implement these rhythmic phase-shifting
techniques in a computational way. The techniques include discrete
phase-shifting through sample delay, continuous phase-shifting using
fixed and linear speed change of playback speed, and mixed-use of these
various methods. Furthermore, this study presents musical possibilities
of computational rhythmic phase-shifting through practical
implementations of those techniques. These techniques can be useful
musical tools for composers in the field of computer music.</p>
<h1 data-number="5" id="references"><span
class="header-section-number">5</span> References</h1>
<p>[1] Magnusson, Thor, and Alex McLean. “Performing with Patterns of
Time.” (2018). pp 3- 4</p>
<p>[2] Reich, Steve. Drumming for voice and ensemble( 1970-71), Boosey
&amp; Hawkes (Hendon Music), mm 11-12</p>
<p>[3] Adams, John. Shaker Loops for String Orchestral Score (1982
Revised), Boosey &amp; Hawkes (Hendon Music) mm 71-12</p>
<p>[4] Schutz, Michael. “What Really Happens in Steve Reich’s
“Drumming”?.” PERCUSSIVE NOTES (2019): 87. pp 1-2</p>
</article>
</body>
</html>
